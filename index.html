<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VK Music ‚Ä¢ Spotify Style</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    
    <style>
        /* === SPOTIFY STYLE CSS === */
        :root {
            /* –¶–≤–µ—Ç–∞ –∏–∑ —Ç–≤–æ–µ–≥–æ –¥–∏–∑–∞–π–Ω–∞ */
            --app-background: hsl(0,0%,0%);
            --app-foreground: hsl(0,0%,7%);
            
            --accent-hue: 141;
            --accent-saturation: 72.9%;
            --accent-lightness: 42%;
            --accent-color: hsl(141, 72.9%, 42%);
            --accent-text-color: hsl(0,0%,6%);
            
            --card-color: hsl(0,0%,10%);
            --card-color-hover: hsl(0,0%,14%);
            --card-color-active: hsl(0,0%,22%);
            --card-radius: 6px;
            --card-border-color: hsl(0,0%,19%);
            
            --menu-text-color: hsl(0,0%,85%);
            --background-tinted-hover: hsla(0,0%,100%,0.07);
            --background-tinted-active: hsla(0,0%,100%,0.11);
            
            --input-color: hsla(0,0%,100%,0.09);
            --input-text-color: hsl(0,0%,96%);
            --input-placeholder-color: hsl(0,0%,71%);
            
            --popout-color: hsl(0,0%,16%);
            --scrollbar-color: hsl(0,0%,35%);
        }

        /* === –û–°–ù–û–í–ù–´–ï –°–¢–ò–õ–ò === */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background-color: var(--app-background);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* === –ì–õ–ê–í–ù–´–ô –ö–û–ù–¢–ï–ô–ù–ï–† === */
        .app-container {
            display: flex;
            height: 100vh;
        }

        /* === –ë–û–ö–û–í–ê–Ø –ü–ê–ù–ï–õ–¨ === */
        .sidebar {
            width: 240px;
            background-color: var(--app-foreground);
            padding: 24px 12px;
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .logo {
            padding: 0 12px;
            margin-bottom: 24px;
        }

        .logo h1 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 24px;
            background: linear-gradient(45deg, var(--accent-color), #1DB954);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-section {
            margin-bottom: 32px;
        }

        .nav-section h3 {
            color: #b3b3b3;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 12px;
            padding: 0 12px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px;
            color: var(--menu-text-color);
            text-decoration: none;
            border-radius: var(--card-radius);
            transition: background-color 0.2s;
            cursor: pointer;
            margin-bottom: 4px;
        }

        .nav-item:hover {
            background-color: var(--background-tinted-hover);
        }

        .nav-item.active {
            background-color: var(--background-tinted-active);
            color: white;
        }

        .nav-item i {
            font-size: 20px;
            width: 24px;
            text-align: center;
        }

        /* === –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ === */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: linear-gradient(180deg, #1e1e1e 0%, #121212 100%);
            overflow-y: auto;
        }

        /* –•–ï–î–ï–† */
        .header {
            background-color: rgba(18, 18, 18, 0.95);
            padding: 16px 32px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .nav-buttons {
            display: flex;
            gap: 16px;
        }

        .nav-button {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: rgba(0,0,0,0.7);
            border: none;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .nav-button:hover {
            background-color: rgba(0,0,0,0.9);
        }

        .search-box {
            display: flex;
            align-items: center;
            background-color: var(--input-color);
            border-radius: 500px;
            padding: 8px 16px;
            width: 400px;
        }

        .search-box i {
            color: var(--input-placeholder-color);
            margin-right: 12px;
        }

        .search-box input {
            background: none;
            border: none;
            color: var(--input-text-color);
            font-size: 14px;
            width: 100%;
            outline: none;
        }

        .search-box input::placeholder {
            color: var(--input-placeholder-color);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 4px 12px;
            background-color: var(--card-color);
            border-radius: 23px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .user-profile:hover {
            background-color: var(--card-color-hover);
        }

        .user-avatar {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: linear-gradient(45deg, #1DB954, var(--accent-color));
        }

        /* –ö–û–ù–¢–ï–ù–¢ */
        .content-wrapper {
            padding: 32px;
            flex: 1;
        }

        .greeting {
            margin-bottom: 32px;
        }

        .greeting h2 {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .greeting p {
            color: #b3b3b3;
            font-size: 14px;
        }

        /* –°–ï–¢–ö–ê –ö–ê–†–¢–û–ß–ï–ö */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .music-card {
            background-color: var(--card-color);
            border-radius: var(--card-radius);
            padding: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            border: 1px solid transparent;
        }

        .music-card:hover {
            background-color: var(--card-color-hover);
            border-color: var(--card-border-color);
            transform: translateY(-4px);
        }

        .card-image {
            width: 100%;
            aspect-ratio: 1;
            border-radius: 4px;
            background: linear-gradient(45deg, #1DB954, var(--accent-color));
            margin-bottom: 16px;
            position: relative;
            overflow: hidden;
        }

        .play-button {
            position: absolute;
            bottom: 8px;
            right: 8px;
            width: 48px;
            height: 48px;
            background-color: var(--accent-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: translateY(8px);
            transition: all 0.3s ease;
            border: none;
            color: var(--accent-text-color);
            cursor: pointer;
        }

        .music-card:hover .play-button {
            opacity: 1;
            transform: translateY(0);
        }

        .card-title {
            font-weight: 600;
            margin-bottom: 4px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .card-description {
            color: #b3b3b3;
            font-size: 14px;
            line-height: 1.4;
        }

        /* –ü–õ–ï–ï–† –í–ù–ò–ó–£ */
        .player-bar {
            background-color: var(--app-foreground);
            height: 80px;
            border-top: 1px solid var(--card-border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 32px;
            position: sticky;
            bottom: 0;
        }

        .now-playing {
            display: flex;
            align-items: center;
            gap: 16px;
            width: 240px;
        }

        .now-playing-cover {
            width: 56px;
            height: 56px;
            border-radius: 4px;
            background: linear-gradient(45deg, #1DB954, var(--accent-color));
        }

        .track-info h4 {
            font-weight: 500;
            margin-bottom: 4px;
            font-size: 14px;
        }

        .track-info p {
            color: #b3b3b3;
            font-size: 12px;
        }

        .player-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            flex: 1;
            max-width: 600px;
        }

        .control-buttons {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .control-button {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            transition: color 0.2s;
            font-size: 16px;
        }

        .control-button.play-pause {
            width: 40px;
            height: 40px;
            background-color: white;
            border-radius: 50%;
            color: black;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .progress-bar {
            width: 100%;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .progress-time {
            color: #b3b3b3;
            font-size: 12px;
            min-width: 40px;
        }

        .progress-track {
            flex: 1;
            height: 4px;
            background-color: #404040;
            border-radius: 2px;
            position: relative;
            cursor: pointer;
        }

        .progress-fill {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background-color: var(--accent-color);
            border-radius: 2px;
            width: 30%;
        }

        .player-options {
            width: 240px;
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 16px;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .volume-control i {
            color: #b3b3b3;
            font-size: 16px;
        }

        .volume-slider {
            width: 100px;
            height: 4px;
            background-color: #404040;
            border-radius: 2px;
            position: relative;
            cursor: pointer;
        }

        .volume-fill {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background-color: white;
            border-radius: 2px;
            width: 70%;
        }

        /* === –§–û–†–ú–ê –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò === */
        .auth-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .auth-box {
            background-color: var(--popout-color);
            border-radius: var(--card-radius);
            padding: 40px;
            width: 90%;
            max-width: 480px;
            border: 1px solid var(--card-border-color);
        }

        .auth-box h2 {
            margin-bottom: 8px;
            font-size: 24px;
        }

        .auth-box p {
            color: #b3b3b3;
            margin-bottom: 24px;
        }

        .token-input {
            width: 100%;
            padding: 16px;
            background-color: var(--input-color);
            border: 1px solid var(--card-border-color);
            border-radius: 4px;
            color: var(--input-text-color);
            font-size: 14px;
            margin-bottom: 24px;
        }

        .token-input:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .auth-buttons {
            display: flex;
            gap: 12px;
        }

        .auth-btn {
            padding: 12px 32px;
            border-radius: 500px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .auth-btn.primary {
            background-color: var(--accent-color);
            color: var(--accent-text-color);
            flex: 1;
        }

        .auth-btn.primary:hover {
            transform: scale(1.04);
        }

        .auth-btn.secondary {
            background-color: transparent;
            color: white;
            border: 1px solid #535353;
        }

        .auth-btn.secondary:hover {
            border-color: white;
        }

        /* === –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø === */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--accent-color);
            color: var(--accent-text-color);
            padding: 16px 24px;
            border-radius: var(--card-radius);
            font-weight: 500;
            animation: slideIn 0.3s ease;
            z-index: 2000;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* === SCROLLBAR === */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background-color: var(--scrollbar-color);
            border-radius: 6px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background-color: #555;
        }

        /* === –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ === */
        @media (max-width: 1200px) {
            .sidebar {
                width: 80px;
            }
            
            .nav-item span {
                display: none;
            }
            
            .nav-item {
                justify-content: center;
            }
            
            .nav-section h3 {
                text-align: center;
            }
        }

        @media (max-width: 768px) {
            .app-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                flex-direction: row;
                padding: 16px;
                overflow-x: auto;
            }
            
            .nav-section {
                margin-bottom: 0;
                display: flex;
                gap: 8px;
            }
            
            .nav-item {
                padding: 8px 12px;
                white-space: nowrap;
            }
            
            .search-box {
                width: 200px;
            }
            
            .cards-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø -->
    <div class="auth-modal" id="authModal">
        <div class="auth-box">
            <h2>üéµ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ VK Music</h2>
            <p>–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–∞—à–µ–π –º—É–∑—ã–∫–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</p>
            
            <div style="background-color: rgba(141, 72.9%, 42%, 0.1); padding: 16px; border-radius: 6px; margin-bottom: 20px; border-left: 4px solid var(--accent-color);">
                <strong>ID –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: 54403714</strong>
                <p style="margin-top: 8px; font-size: 12px; color: #b3b3b3;">
                    –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç ID –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
                </p>
            </div>
            
            <p><strong>–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω:</strong></p>
            <ol style="color: #b3b3b3; margin-bottom: 20px; padding-left: 20px; line-height: 1.6;">
                <li>–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ <a href="https://vkhost.github.io/" target="_blank" style="color: var(--accent-color);">vkhost.github.io</a></li>
                <li>–í—ã–±–µ—Ä–∏—Ç–µ "Kate Mobile"</li>
                <li>–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –∏ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø</li>
                <li>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –∏–∑ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏</li>
            </ol>
            
            <input type="text" id="tokenInput" class="token-input" placeholder="vk1.a.–≤–∞—à_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å...">
            
            <div class="auth-buttons">
                <button class="auth-btn primary" onclick="loginWithToken()">
                    <i class="fas fa-sign-in-alt"></i> –í–æ–π—Ç–∏
                </button>
                <button class="auth-btn secondary" onclick="enterDemoMode()">
                    –î–µ–º–æ-—Ä–µ–∂–∏–º
                </button>
            </div>
            
            <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #333;">
                <p style="font-size: 12px; color: #666;">
                    –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ç–æ–∫–µ–Ω (—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –¥–µ–º–æ-–º—É–∑—ã–∫–æ–π):<br>
                    <code style="background: rgba(0,0,0,0.3); padding: 4px 8px; border-radius: 4px; font-size: 11px;">demo_token_54403714</code>
                </p>
            </div>
        </div>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –ò–ù–¢–ï–†–§–ï–ô–° -->
    <div class="app-container hidden" id="appContainer">
        <!-- –ë–û–ö–û–í–ê–Ø –ü–ê–ù–ï–õ–¨ -->
        <div class="sidebar">
            <div class="logo">
                <h1>VK Music</h1>
            </div>
            
            <div class="nav-section">
                <h3>–ì–ª–∞–≤–Ω–æ–µ</h3>
                <a class="nav-item active" href="#">
                    <i class="fas fa-home"></i>
                    <span>–ì–ª–∞–≤–Ω–∞—è</span>
                </a>
                <a class="nav-item" href="#" onclick="searchMusic()">
                    <i class="fas fa-search"></i>
                    <span>–ü–æ–∏—Å–∫</span>
                </a>
                <a class="nav-item" href="#" onclick="showLibrary()">
                    <i class="fas fa-book"></i>
                    <span>–ú–æ—è –º–µ–¥–∏–∞—Ç–µ–∫–∞</span>
                </a>
            </div>
            
            <div class="nav-section">
                <h3>–ü–ª–µ–π–ª–∏—Å—Ç—ã</h3>
                <a class="nav-item" href="#">
                    <i class="fas fa-plus-square"></i>
                    <span>–°–æ–∑–¥–∞—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç</span>
                </a>
                <a class="nav-item" href="#">
                    <i class="fas fa-heart"></i>
                    <span>–ü–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è</span>
                </a>
                <a class="nav-item" href="#">
                    <i class="fas fa-music"></i>
                    <span>–í–∞—à–∏ —Ç—Ä–µ–∫–∏</span>
                </a>
            </div>
            
            <div class="nav-section" style="margin-top: auto;">
                <div class="nav-item" onclick="installApp()">
                    <i class="fas fa-download"></i>
                    <span>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</span>
                </div>
                <div class="nav-item" onclick="showSettings()">
                    <i class="fas fa-cog"></i>
                    <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                </div>
            </div>
        </div>
        
        <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ -->
        <div class="main-content">
            <!-- –•–ï–î–ï–† -->
            <div class="header">
                <div class="nav-buttons">
                    <button class="nav-button">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="nav-button">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="–ß—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø–æ—Å–ª—É—à–∞—Ç—å?" onkeypress="if(event.key === 'Enter') searchMusic()">
                </div>
                
                <div class="user-profile" id="userProfile">
                    <div class="user-avatar"></div>
                    <span id="userName">–ì–æ—Å—Ç—å</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
            
            <!-- –ö–û–ù–¢–ï–ù–¢ -->
            <div class="content-wrapper">
                <div class="greeting">
                    <h2 id="greetingText">–î–æ–±—Ä—ã–π –¥–µ–Ω—å</h2>
                    <p>–°–ª—É—à–∞–π—Ç–µ –º—É–∑—ã–∫—É –∏–∑ VK –≤ —Å—Ç–∏–ª—å–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ</p>
                </div>
                
                <div class="cards-section">
                    <h3 style="margin-bottom: 20px; font-size: 24px;">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –ø–æ—Å–ª—É—à–∞—Ç—å</h3>
                    <div class="cards-grid" id="musicGrid">
                        <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
                    </div>
                </div>
                
                <div class="cards-section">
                    <h3 style="margin-bottom: 20px; font-size: 24px;">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç—Ä–µ–∫–∏</h3>
                    <div class="cards-grid" id="popularGrid">
                        <!-- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç—Ä–µ–∫–∏ -->
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –ü–õ–ï–ï–† -->
        <div class="player-bar">
            <div class="now-playing">
                <div class="now-playing-cover" id="nowPlayingCover"></div>
                <div class="track-info">
                    <h4 id="nowPlayingTitle">–ù–µ –≤—ã–±—Ä–∞–Ω–æ</h4>
                    <p id="nowPlayingArtist">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç—Ä–µ–∫ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è</p>
                </div>
                <button class="control-button">
                    <i class="far fa-heart"></i>
                </button>
            </div>
            
            <div class="player-controls">
                <div class="control-buttons">
                    <button class="control-button" onclick="playPrev()">
                        <i class="fas fa-step-backward"></i>
                    </button>
                    <button class="control-button play-pause" onclick="togglePlay()" id="playButton">
                        <i class="fas fa-play" id="playIcon"></i>
                    </button>
                    <button class="control-button" onclick="playNext()">
                        <i class="fas fa-step-forward"></i>
                    </button>
                </div>
                
                <div class="progress-bar">
                    <span class="progress-time" id="currentTime">0:00</span>
                    <div class="progress-track" onclick="seekMusic(event)">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <span class="progress-time" id="totalTime">0:00</span>
                </div>
            </div>
            
            <div class="player-options">
                <div class="volume-control">
                    <i class="fas fa-volume-up"></i>
                    <div class="volume-slider" onclick="changeVolume(event)">
                        <div class="volume-fill" id="volumeFill"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –°–ö–†–´–¢–´–ô –ê–£–î–ò–û -->
    <audio id="audioPlayer" crossorigin="anonymous"></audio>

    <script>
        // ========== –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ==========
        const VK_CLIENT_ID = "54403714";
        const VK_API_VERSION = "5.199";
        
        // –î–µ–º–æ-—Ç—Ä–µ–∫–∏
        const DEMO_TRACKS = [
            { 
                id: 1, 
                title: "Blinding Lights", 
                artist: "The Weeknd", 
                duration: 200, 
                cover: "linear-gradient(45deg, #1DB954, #191414)",
                url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"
            },
            { 
                id: 2, 
                title: "Flowers", 
                artist: "Miley Cyrus", 
                duration: 200, 
                cover: "linear-gradient(45deg, #ff6b6b, #ee5a52)",
                url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"
            },
            { 
                id: 3, 
                title: "Kill Bill", 
                artist: "SZA", 
                duration: 153, 
                cover: "linear-gradient(45deg, #8a2387, #f27121)",
                url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3"
            },
            { 
                id: 4, 
                title: "As It Was", 
                artist: "Harry Styles", 
                duration: 167, 
                cover: "linear-gradient(45deg, #00b4db, #0083b0)",
                url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3"
            }
        ];

        // ========== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ==========
        let currentUser = null;
        let isPlaying = false;
        let currentTrackIndex = 0;
        let currentVolume = 70;
        let isDemoMode = true;
        let audio = document.getElementById('audioPlayer');
        let progressInterval;

        // ========== –§–£–ù–ö–¶–ò–ò –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò ==========
        function loginWithToken() {
            const token = document.getElementById('tokenInput').value.trim();
            
            if (!token) {
                showNotification("–í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω!", "error");
                return;
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
            if (token === "demo_token_54403714" || token.startsWith("vk1.a.")) {
                showLoading(true);
                
                setTimeout(() => {
                    currentUser = {
                        id: 54403714,
                        name: "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å VK",
                        token: token
                    };
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
                    localStorage.setItem('vk_user', JSON.stringify(currentUser));
                    
                    // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Ä–µ–∂–∏–º
                    isDemoMode = token === "demo_token_54403714";
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                    document.getElementById('userName').textContent = currentUser.name;
                    
                    // –°–∫—Ä—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
                    document.getElementById('authModal').classList.add('hidden');
                    document.getElementById('appContainer').classList.remove('hidden');
                    
                    // –ó–∞–≥—Ä—É–∂–∞–µ–º –º—É–∑—ã–∫—É
                    loadMusic();
                    
                    showNotification(isDemoMode ? 
                        "–î–µ–º–æ-—Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!" : 
                        "–£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ –≤ VK Music!", 
                        "success"
                    );
                    
                    showLoading(false);
                }, 1500);
            } else {
                showNotification("–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–æ–∫–µ–Ω–∞", "error");
            }
        }

        function enterDemoMode() {
            document.getElementById('tokenInput').value = "demo_token_54403714";
            loginWithToken();
        }

        function logout() {
            localStorage.removeItem('vk_user');
            currentUser = null;
            location.reload();
        }

        // ========== –ú–£–ó–´–ö–ê–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ==========
        function loadMusic() {
            const musicGrid = document.getElementById('musicGrid');
            const popularGrid = document.getElementById('popularGrid');
            
            // –û—á–∏—â–∞–µ–º —Å–µ—Ç–∫–∏
            musicGrid.innerHTML = '';
            popularGrid.innerHTML = '';
            
            // –î–æ–±–∞–≤–ª—è–µ–º –¥–µ–º–æ-—Ç—Ä–µ–∫–∏
            DEMO_TRACKS.forEach((track, index) => {
                const card = createMusicCard(track, index);
                musicGrid.appendChild(card);
                
                if (index < 4) {
                    const popularCard = createMusicCard(track, index);
                    popularGrid.appendChild(popularCard.cloneNode(true));
                }
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–µ–º—è —Å—É—Ç–æ–∫
            updateGreeting();
        }

        function createMusicCard(track, index) {
            const card = document.createElement('div');
            card.className = 'music-card';
            card.onclick = () => playTrack(index);
            
            const duration = formatTime(track.duration);
            
            card.innerHTML = `
                <div class="card-image" style="background: ${track.cover};">
                    <button class="play-button">
                        <i class="fas fa-play"></i>
                    </button>
                </div>
                <div class="card-title">${track.title}</div>
                <div class="card-description">${track.artist} ‚Ä¢ ${duration}</div>
            `;
            
            return card;
        }

        function playTrack(index) {
            currentTrackIndex = index;
            const track = DEMO_TRACKS[index];
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º —Ç—Ä–µ–∫–µ
            document.getElementById('nowPlayingTitle').textContent = track.title;
            document.getElementById('nowPlayingArtist').textContent = track.artist;
            document.getElementById('nowPlayingCover').style.background = track.cover;
            document.getElementById('totalTime').textContent = formatTime(track.duration);
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫ –∞—É–¥–∏–æ
            audio.src = track.url;
            
            // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º
            playAudio();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            showNotification(`–°–µ–π—á–∞—Å –∏–≥—Ä–∞–µ—Ç: ${track.title}`, "info");
        }

        function playAudio() {
            audio.play();
            isPlaying = true;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É
            document.getElementById('playIcon').className = 'fas fa-pause';
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
            clearInterval(progressInterval);
            progressInterval = setInterval(updateProgress, 1000);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å —Å—Ä–∞–∑—É
            updateProgress();
        }

        function pauseAudio() {
            audio.pause();
            isPlaying = false;
            document.getElementById('playIcon').className = 'fas fa-play';
            clearInterval(progressInterval);
        }

        function togglePlay() {
            if (!audio.src) {
                playTrack(0);
                return;
            }
            
            if (isPlaying) {
                pauseAudio();
            } else {
                playAudio();
            }
        }

        function playNext() {
            currentTrackIndex = (currentTrackIndex + 1) % DEMO_TRACKS.length;
            playTrack(currentTrackIndex);
        }

        function playPrev() {
            currentTrackIndex = currentTrackIndex === 0 ? 
                DEMO_TRACKS.length - 1 : currentTrackIndex - 1;
            playTrack(currentTrackIndex);
        }

        function updateProgress() {
            if (!audio.duration) return;
            
            const progress = (audio.currentTime / audio.duration) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            // –í—Ä–µ–º—è
            document.getElementById('currentTime').textContent = 
                formatTime(audio.currentTime);
            document.getElementById('totalTime').textContent = 
                formatTime(audio.duration);
        }

        function seekMusic(event) {
            if (!audio.duration) return;
            
            const progressTrack = event.currentTarget;
            const rect = progressTrack.getBoundingClientRect();
            const pos = (event.clientX - rect.left) / rect.width;
            
            audio.currentTime = pos * audio.duration;
            updateProgress();
        }

        function changeVolume(event) {
            const volumeSlider = event.currentTarget;
            const rect = volumeSlider.getBoundingClientRect();
            const volume = (event.clientX - rect.left) / rect.width;
            
            currentVolume = Math.round(volume * 100);
            audio.volume = currentVolume / 100;
            
            document.getElementById('volumeFill').style.width = currentVolume + '%';
        }

        // ========== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ==========
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        function updateGreeting() {
            const hour = new Date().getHours();
            let greeting;
            
            if (hour < 6) greeting = "–î–æ–±—Ä–æ–π –Ω–æ—á–∏";
            else if (hour < 12) greeting = "–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ";
            else if (hour < 18) greeting = "–î–æ–±—Ä—ã–π –¥–µ–Ω—å";
            else greeting = "–î–æ–±—Ä—ã–π –≤–µ—á–µ—Ä";
            
            document.getElementById('greetingText').textContent = greeting;
        }

        function searchMusic() {
            const query = document.getElementById('searchInput').value.trim();
            if (!query) return;
            
            if (isDemoMode) {
                showNotification("–í –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ –ø–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç", "info");
                return;
            }
            
            showLoading(true);
            
            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ VK API
            setTimeout(() => {
                showLoading(false);
                showNotification(`–ü–æ –∑–∞–ø—Ä–æ—Å—É "${query}" –Ω–∞–π–¥–µ–Ω–æ 15 —Ç—Ä–µ–∫–æ–≤`, "success");
            }, 1000);
        }

        function showLibrary() {
            showNotification("–í–∞—à–∞ –º–µ–¥–∏–∞—Ç–µ–∫–∞ –ø—É—Å—Ç–∞", "info");
        }

        function installApp() {
            showNotification("–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞", "info");
        }

        function showSettings() {
            showNotification("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã", "info");
        }

        function showNotification(message, type) {
            // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            const oldNotifications = document.querySelectorAll('.notification');
            oldNotifications.forEach(n => n.remove());
            
            // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            const notification = document.createElement('div');
            notification.className = 'notification';
            
            // –¶–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
            if (type === 'error') {
                notification.style.backgroundColor = 'hsl(0, 85%, 61%)';
            } else if (type === 'info') {
                notification.style.backgroundColor = 'hsl(200, 85%, 61%)';
            }
            
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : 
                                 type === 'error' ? 'exclamation-circle' : 
                                 'info-circle'}"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function showLoading(show) {
            if (show) {
                document.body.style.cursor = 'wait';
            } else {
                document.body.style.cursor = 'default';
            }
        }

        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
        window.onload = function() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Å–µ—Å—Å–∏—é
            const savedUser = localStorage.getItem('vk_user');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                isDemoMode = currentUser.token === "demo_token_54403714";
                
                document.getElementById('userName').textContent = currentUser.name;
                document.getElementById('authModal').classList.add('hidden');
                document.getElementById('appContainer').classList.remove('hidden');
                
                loadMusic();
                showNotification("–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º!", "success");
            }
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—É–¥–∏–æ
            audio.volume = currentVolume / 100;
            audio.onended = playNext;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≥—Ä–æ–º–∫–æ—Å—Ç—å
            document.getElementById('volumeFill').style.width = currentVolume + '%';
            
            // –ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —Ç—Ä–µ–∫–∞ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                if (!audio.src && DEMO_TRACKS.length > 0) {
                    playTrack(0);
                }
            }, 2000);
        };
    </script>
</body>
</html>
